<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Promesas</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f6bd20;
            font-size: 50px;
            font-weight: bold;
            font-family: system-ui;
        }
    </style>
</head>

<body>
    <img src="" id="imgen" height="200">
    <p id="message"></p>
    <script>
        const $imgen = document.querySelector('#imgen')
        const $message = document.querySelector('#message')
        function renderPokemon(image) {
            $imgen.setAttribute('src', image)
        }
        function renderMessage(message) {
            $message.textContent = message
        }
        fetch('https://pokeapi.co/api/v2/pokemon/245/')
            .then(response => response.json())
            .then(imgen => {
                renderPokemon(imgen.sprites.front_default)
            })
            .catch(() => { renderMessage('Pokemon no encontrado :(') })

        // const shopping = new Promise((resolve, reject) => {

        //     console.log('Es un bonito día para ir a comprar tenis, vayamos primero por los vans')
        //     //Frutas
        //     setTimeout(() => {
        //         compras.push('Vans')
        //         console.log('tengo los Vans')
        //         // Verduras
        //         setTimeout(() => {
        //             compras.push('Nike')
        //             console.log('Tengo los Nike')
        //             // Carne
        //             setTimeout(() => {
        //                 compras.push('adidas')
        //                 reject('Se me acabo el dinero ')
        //                 console.log('Tengo los adidas')
        //                 // Granos
        //                 setTimeout(() => {
        //                     compras.push('puma')
        //                     console.log('Tengo los puma')
        //                     // Fila para pagar
        //                     setTimeout(() => {
        //                         compras.push('Deposito')
        //                         console.log('cobre mi quincena, mas compras')
        //                         // Pagar
        //                         setTimeout(() => {
        //                             compras.push('pagado')
        //                             console.log(compras)
        //                             console.log('He pagado, puedo ir a fiestas')
        //                             resolve(compras)
        //                         }, 2000)
        //                     }, 2000)
        //                 }, 2000)
        //             }, 2000)
        //         }, 2000)
        //     }, 2000)
        // })
        // shopping
        //     .then((data) => {
        //         renderMessage(data.toString())
        //     })
        //     .catch((message) => {
        //         renderMessage(message)
        //     })


        const compras = []
        // function irDeCompras() {
        //     console.log('Es un bonito día para ir a comprar tenis, vayamos primero por los vans')
        //     // Frutas
        //     setTimeout(() => {
        //         compras.push('Vans')
        //         console.log('tengo los Vans')
        //         // Verduras
        //         setTimeout(() => {
        //             compras.push('Nike')
        //             console.log('tengo los Nike')
        //             // Carne
        //             setTimeout(() => {
        //                 compras.push('adidas')
        //                 console.log('tengo los adidas')
        //                 // Granos
        //                 setTimeout(() => {
        //                     compras.push('puma')
        //                     console.log('tengo los puma')
        //                     // Fila para pagar
        //                     setTimeout(() => {
        //                         compras.push('Deposito')
        //                         console.log('cobre mi quincena, mas compras')
        //                         // Pagar
        //                         setTimeout(() => {
        //                             compras.push('pagado')
        //                             console.log(compras)
        //                             console.log('He pagado, puedo ir a fiestas')
        //                         }, 2000)
        //                     }, 2000)
        //                 }, 2000)
        //             }, 2000)
        //         }, 2000)
        //     }, 2000)
        // }
        // irDeCompras()
        // console.log(compras)

        function compTenis(buyTenis, time = 2000) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    renderMessage(`${buyTenis} ✅`)
                    resolve(`${buyTenis} ✅`)
                }, time)
            })
        }

        //function Comprar() {
        //   const cart = []
        //   return compTenis('Adidas')
        //   .then(thing => { cart.push(thing); return buy('Vans') })
        //   .then(thing => { cart.push(thing); return buy('Nike') })
        //   .then(thing => { cart.push(thing); return buy('Puma') })
        //   .then(thing => { cart.push(thing); return cart })
        // }


        console.time()
        Promise.all([
            compTenis('vans', 2000),
            compTenis('nike', 1000),
            compTenis('adidas', 2000),
            compTenis('puma', 3000),
        ])
            .then((cart) => {
                console.timeEnd()
                renderMessage(cart.toString())
            })

        // // compTenis('Nike')
        // //     .then((thing) => {
        // //         renderMessage(thing)
        // //     })

     

    </script>

</body>

</html>